{"ast":null,"code":"import _objectSpread from\"C:/Users/Admin/Desktop/Cake Expo/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _classCallCheck from\"C:/Users/Admin/Desktop/Cake Expo/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/Admin/Desktop/Cake Expo/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"C:/Users/Admin/Desktop/Cake Expo/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"C:/Users/Admin/Desktop/Cake Expo/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from\"react\";import Cart from\"./components/Cart\";import Filter from\"./components/Filter\";import Products from\"./components/Products\";import data from\"./data.json\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);_this=_super.call(this);_this.createOrder=function(order){alert(\"Need to save order for \"+order.name);};_this.removeFromCart=function(product){var cartItems=_this.state.cartItems.slice();_this.setState({cartItems:cartItems.filter(function(x){return x._id!==product._id;})});localStorage.setItem(\"cartItems\",JSON.stringify(cartItems.filter(function(x){return x._id!==product._id;})));};_this.addToCart=function(product){var cartItems=_this.state.cartItems.slice();var alreadyInCart=false;cartItems.forEach(function(item){if(item._id===product._id){item.count++;alreadyInCart=true;}});if(!alreadyInCart){cartItems.push(_objectSpread(_objectSpread({},product),{},{count:1}));}_this.setState({cartItems:cartItems});localStorage.setItem(\"cartItems\",JSON.stringify(cartItems));};_this.sortProducts=function(event){var sort=event.target.value;console.log(event.target.value);_this.setState(function(state){return{sort:sort,products:_this.state.products.slice().sort(function(a,b){return sort===\"lowset\"?a.price<b.price?1:-1:sort===\"highest\"?a.price>b.price?1:-1:a._id<b._id?1:-1;})};});};_this.filterProducts=function(event){console.log(event.target.value);if(event.target.value===\"\"){_this.setState({size:event.target.value,products:data.products});}else{_this.setState({size:event.target.value,products:data.products.filter(function(product){return product.availableSizes.indexOf(event.target.value)>=0;})});}};_this.state={products:data.products,cartItems:localStorage.getItem(\"cartItems\")?JSON.parse(localStorage.getItem(\"cartItems\")):[],size:\"\",sort:\"\"};return _this;}_createClass(App,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{className:\"grid-container\",children:[/*#__PURE__*/_jsx(\"header\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"/\",children:\"Cake Expo\"})}),/*#__PURE__*/_jsx(\"main\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"main\",children:[/*#__PURE__*/_jsx(Filter,{count:this.state.products.length,size:this.state.size,sort:this.state.sort,filterProducts:this.filterProducts,sortProducts:this.sortProducts}),/*#__PURE__*/_jsx(Products,{products:this.state.products,addToCart:this.addToCart})]}),/*#__PURE__*/_jsx(\"div\",{className:\"sidebar\",children:/*#__PURE__*/_jsx(Cart,{cartItems:this.state.cartItems,removeFromCart:this.removeFromCart,createOrder:this.createOrder})})]})}),/*#__PURE__*/_jsx(\"footer\",{children:\"All right is reserved\"})]});}}]);return App;}(React.Component);export default App;","map":{"version":3,"names":["React","Cart","Filter","Products","data","App","createOrder","order","alert","name","removeFromCart","product","cartItems","state","slice","setState","filter","x","_id","localStorage","setItem","JSON","stringify","addToCart","alreadyInCart","forEach","item","count","push","sortProducts","event","sort","target","value","console","log","products","a","b","price","filterProducts","size","availableSizes","indexOf","getItem","parse","length","Component"],"sources":["C:/Users/Admin/Desktop/Cake Expo/src/App.js"],"sourcesContent":["import React from \"react\";\nimport Cart from \"./components/Cart\";\nimport Filter from \"./components/Filter\";\nimport Products from \"./components/Products\";\nimport data from \"./data.json\"\n\nclass App extends React.Component{\n  constructor() {\n    super();\n    this.state = {\n      products: data.products,\n      cartItems: localStorage.getItem(\"cartItems\") \n      ? JSON.parse(localStorage.getItem(\"cartItems\"))\n      : [],\n      size: \"\",\n      sort: \"\",\n    };\n  }\n  createOrder = (order) => {\n    alert(\"Need to save order for \" + order.name);\n  };\n  removeFromCart = (product) =>{\n    const cartItems = this.state.cartItems.slice();\n    this.setState({\n      cartItems:  cartItems.filter(x=>x._id !== product._id),\n    });\n  localStorage.setItem(\"cartItems\", \n        JSON.stringify(cartItems.filter(x=>x._id !== product._id))\n        \n        );\n   \n  }\n\n  addToCart =(product) => {\n      const cartItems = this.state.cartItems.slice();\n      let alreadyInCart = false;\n      cartItems.forEach((item) => {\n        if(item._id === product._id) {\n          item.count++;\n          alreadyInCart = true;\n        }\n      });\n      if(!alreadyInCart){\n        cartItems.push({...product, count: 1});\n      }\n\n      this.setState({cartItems});\n      localStorage.setItem(\"cartItems\", JSON.stringify(cartItems));\n  };\n  sortProducts = (event) =>{\n    const sort = event.target.value;\n    console.log(event.target.value);\n      this.setState((state) => ({\n        sort:sort,\n        products : this.state.products.slice()\n        .sort((a,b) => \n          sort === \"lowset\" \n          ? a.price < b.price \n          ? 1 : -1 \n          : sort === \"highest\" \n          ? a.price > b.price \n          ? 1 : -1\n          : a._id < b._id \n          ? 1 : -1\n        ),\n      }));\n  }\n  filterProducts = (event) =>{\n    console.log(event.target.value);\n    if (event.target.value === \"\") {\n      this.setState({size:event.target.value, products:data.products});\n    } else {\n      this.setState({\n        size: event.target.value,\n        products: data.products.filter((product) => product.availableSizes.indexOf(event.target.value) >= 0\n       \n        ),\n        \n      });\n    }\n\n  }\n\n  render() {\n    return (\n      <div className=\"grid-container\">\n        <header>\n            <a href=\"/\">Cake Expo</a>\n        </header>\n  \n        <main>\n          <div className=\"content\">\n            <div className=\"main\">\n              <Filter count={this.state.products.length}\n                size={this.state.size}\n                sort={this.state.sort}\n                filterProducts={this.filterProducts}\n                sortProducts={this.sortProducts}\n              ></Filter>\n              <Products products={this.state.products} addToCart={this.addToCart}></Products>\n            </div>\n            <div className=\"sidebar\">\n              <Cart cartItems={this.state.cartItems}  \n                  removeFromCart={this.removeFromCart}\n                  createOrder={this.createOrder}\n              />\n            </div>\n          </div>\n        </main>\n        \n        <footer>\n          All right is reserved\n        </footer>\n      </div>\n    );\n  }\n\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}